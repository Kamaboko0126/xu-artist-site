{"version":3,"file":"js/344.0ede5ceb.js","mappings":"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","sources":["webpack://xu-artist-site/./src/pages/ArtworkPage/index.vue","webpack://xu-artist-site/./src/pages/ArtworkPage/index.vue?1ed7"],"sourcesContent":["<script>\r\nimport { inject, onMounted, nextTick, ref } from \"vue\";\r\nimport { gsap } from \"gsap\";\r\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\r\n\r\nexport default {\r\n  name: \"ArtworkPage\",\r\n  setup() {\r\n    const artworkImgs = inject(\"artworkImgs\");\r\n    const classImg1 = ref(require(\"@/assets/artworks/normalized/16.jpg\"));\r\n    const classImg2 = ref(require(\"@/assets/artworks/normalized/82.jpg\"));\r\n    const classImg3 = ref(require(\"@/assets/artworks/normalized/101.jpg\"));\r\n    const switchToClass = ref(false);\r\n    const animating = ref(false);\r\n\r\n    const flatImages = require\r\n      .context(\"@/assets/artworks/normalized/\", false, /\\.(jpe?g)$/)\r\n      .keys()\r\n      .map((key) => {\r\n        const fileName = key.replace(\"./\", \"\");\r\n        return {\r\n          url: require(`@/assets/artworks/normalized/${fileName}`),\r\n          id: fileName,\r\n        };\r\n      });\r\n\r\n    // 打亂圖片\r\n    artworkImgs.value = [...flatImages].sort(() => Math.random() - 0.5);\r\n\r\n    // 創建一個函數來加載圖片並返回一個 Promise\r\n    const loadImage = (src) => {\r\n      return new Promise((resolve, reject) => {\r\n        const img = new Image();\r\n        img.src = src;\r\n        img.onload = resolve;\r\n        img.onerror = reject;\r\n      });\r\n    };\r\n\r\n    // 等待所有圖片載入完成\r\n    const loadAllImages = async () => {\r\n      gsap.to(\".loader\", {\r\n        display: \"flex\",\r\n        autoAlpha: 1,\r\n        duration: 0.2,\r\n        ease: \"power2.out\",\r\n      });\r\n      const imageSources = [classImg1.value, classImg2.value, classImg3.value];\r\n      try {\r\n        await Promise.all(imageSources.map((src) => loadImage(src)));\r\n        gsap.to(\".loader\", {\r\n          autoAlpha: 0,\r\n          duration: 1,\r\n          ease: \"power2.out\",\r\n          onComplete: () => {\r\n            gsap.set(\".loader\", { display: \"none\" });\r\n          },\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Error loading images:\", error);\r\n      }\r\n    };\r\n\r\n    const switchTo = (type) => {\r\n      if (animating.value) {\r\n        // console.log(\"Still animating...\");\r\n        return;\r\n      }\r\n\r\n      if (type === \"r\") {\r\n        animating.value = true;\r\n        gsap.to(\"h1.first\", {\r\n          color: \"#bb9b45\",\r\n          duration: 0.5,\r\n        });\r\n        gsap.to(\r\n          \"h1.second\",\r\n          {\r\n            color: \"#232323\",\r\n            duration: 0.5,\r\n          },\r\n          \"<\"\r\n        );\r\n        gsap.to(\r\n          \".cards\",\r\n          {\r\n            opacity: 0,\r\n            display: \"none\",\r\n            duration: 0.5,\r\n          },\r\n          \"<\"\r\n        );\r\n        gsap.to(\".animation\", {\r\n          opacity: 1,\r\n          display: \"flex\",\r\n          duration: 0.5,\r\n          delay: 0.5,\r\n          onComplete: () => {\r\n            // console.log(\"Animation completed\");\r\n            animating.value = false;\r\n          },\r\n        });\r\n      } else if (type === \"c\") {\r\n        animating.value = true;\r\n\r\n        gsap.to(\"h1.first\", {\r\n          color: \"#232323\",\r\n          duration: 0.5,\r\n        });\r\n        gsap.to(\r\n          \"h1.second\",\r\n          {\r\n            color: \"#bb9b45\",\r\n            duration: 0.5,\r\n          },\r\n          \"<\"\r\n        );\r\n        gsap.to(\r\n          \".animation\",\r\n          {\r\n            opacity: 0,\r\n            display: \"none\",\r\n            duration: 0.5,\r\n          },\r\n          \"<\"\r\n        );\r\n        gsap.to(\".cards\", {\r\n          opacity: 1,\r\n          display: \"flex\",\r\n          duration: 0.5,\r\n          delay: 0.5,\r\n          onComplete: () => {\r\n            // console.log(\"Animation completed\");\r\n            animating.value = false;\r\n          },\r\n        });\r\n      }\r\n    };\r\n\r\n    onMounted(async () => {\r\n      gsap.registerPlugin(ScrollTrigger);\r\n\r\n      await nextTick();\r\n\r\n      try {\r\n        await loadAllImages();\r\n        var imgAnimation = gsap.timeline({\r\n          repeat: -1,\r\n          repeatDelay: 0,\r\n          yoyo: true,\r\n        });\r\n        imgAnimation.fromTo(\r\n          [\".imgs\", \".imgs\"],\r\n          { yPercent: 0 },\r\n          { yPercent: -80, duration: 200, ease: \"linear\", repeat: -1 }\r\n        );\r\n      } catch (error) {\r\n        console.error(\"Error loading images:\", error);\r\n      }\r\n    });\r\n\r\n    return {\r\n      artworkImgs,\r\n      classImg1,\r\n      classImg2,\r\n      classImg3,\r\n      switchToClass,\r\n      switchTo,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <section>\r\n    <div class=\"btns\">\r\n      <h1 class=\"first\" @click=\"switchTo('r')\">隨機作品</h1>\r\n      <h1 class=\"second\" @click=\"switchTo('c')\">查看分類</h1>\r\n    </div>\r\n    <div class=\"container\">\r\n      <div class=\"animation\">\r\n        <div class=\"imgs\">\r\n          <div class=\"img-container\" v-for=\"img in artworkImgs\" :key=\"img\">\r\n            <router-link :to=\"`/artworkpage/artwork?id=${img.id}`\">\r\n              <img :src=\"img.url\" />\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"cards\">\r\n        <div class=\"cards-container\">\r\n          <router-link to=\"/artworkpage/class?class=wooden\" class=\"card\">\r\n            <div class=\"top\">\r\n              <div class=\"img-container\">\r\n                <div\r\n                  class=\"img img1\"\r\n                  :style=\"{ 'background-image': `url(${classImg1})` }\"\r\n                ></div>\r\n              </div>\r\n              <div class=\"bottom\">\r\n                <h1>木板</h1>\r\n                <div class=\"btn\">查看更多</div>\r\n              </div>\r\n            </div>\r\n          </router-link>\r\n          <router-link to=\"/artworkpage/class?class=mixed\" class=\"card\">\r\n            <div class=\"top\">\r\n              <div class=\"img-container\">\r\n                <div\r\n                  class=\"img img2\"\r\n                  :style=\"{ 'background-image': `url(${classImg2})` }\"\r\n                ></div>\r\n              </div>\r\n            </div>\r\n            <div class=\"bottom\">\r\n              <h1>裱框</h1>\r\n              <div class=\"btn\">查看更多</div>\r\n            </div>\r\n          </router-link>\r\n          <router-link to=\"/artworkpage/class?class=solid\" class=\"card\">\r\n            <div class=\"top\">\r\n              <div class=\"img-container\">\r\n                <div\r\n                  class=\"img img3\"\r\n                  :style=\"{ 'background-image': `url(${classImg3})` }\"\r\n                ></div>\r\n              </div>\r\n            </div>\r\n            <div class=\"bottom\">\r\n              <h1>立體</h1>\r\n              <div class=\"btn\">查看更多</div>\r\n            </div>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\nsection {\r\n  width: 100%;\r\n  margin-top: var(--header-height);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  flex-direction: column;\r\n  .btns {\r\n    display: flex;\r\n    margin-bottom: 2%;\r\n    h1 {\r\n      cursor: pointer;\r\n      &:first-child {\r\n        margin-right: 20px;\r\n        color: #bb9b45;\r\n      }\r\n    }\r\n  }\r\n  .container {\r\n    position: relative;\r\n    height: calc(calc(100vh - var(--header-height)) * 0.9);\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    .animation {\r\n      height: 90%;\r\n      width: 90%;\r\n      max-width: 1400px;\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n      overflow: hidden;\r\n      flex-direction: column;\r\n      .imgs {\r\n        column-count: 6;\r\n        column-gap: 1vw;\r\n        width: 100%;\r\n        margin: 1rem auto;\r\n        @media (max-width: 1024px) {\r\n          column-count: 4;\r\n        }\r\n        @media (max-width: 768px) {\r\n          column-count: 2;\r\n        }\r\n        .img-container {\r\n          overflow: hidden; /* 確保超出的部分被隱藏 */\r\n        }\r\n\r\n        img {\r\n          width: 100%;\r\n          padding: 0.5vw 0;\r\n          cursor: pointer;\r\n          transition: 0.4s ease-in-out;\r\n          transform-origin: center center; /* 設定放大時的中心點 */\r\n          &:hover {\r\n            transform: scale(1.07);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .cards {\r\n      --card-width: 30;\r\n      @media (max-width: 1024px) {\r\n        --card-width: 45;\r\n      }\r\n      @media (max-width: 768px) {\r\n        --card-width: 55;\r\n      }\r\n      background: #fff;\r\n      min-height: calc(calc(100vh - var(--header-height)) * 0.9);\r\n      width: 100%;\r\n      justify-content: center;\r\n      align-items: flex-start;\r\n      display: none;\r\n      .cards-container {\r\n        width: 100%;\r\n        max-width: 1200px;\r\n        display: flex;\r\n        align-items: flex-start;\r\n        justify-content: flex-start;\r\n        padding: 0 calc(100% / 4 - var(--card-width) * 1% * 3 / 4.3);\r\n        padding-bottom: 10vh;\r\n        flex-wrap: wrap;\r\n        @media (max-width: 1024px) {\r\n          padding: 0 calc(100% / 3 - var(--card-width) * 1% * 2 / 3.5);\r\n          padding-bottom: 10vh;\r\n        }\r\n        @media (max-width: 768px) {\r\n          padding: 0;\r\n          padding-bottom: 10vh;\r\n          align-items: center;\r\n          flex-direction: column;\r\n        }\r\n        .card {\r\n          &:hover {\r\n            .img {\r\n              transform: scale(1.07);\r\n            }\r\n          }\r\n          width: calc(var(--card-width) * 1%);\r\n          border: 1px solid #e8e8e8;\r\n          border-radius: 20px;\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          flex-direction: column;\r\n          cursor: pointer;\r\n          overflow: hidden;\r\n          &:nth-child(2) {\r\n            margin: 0 5%;\r\n            @media (max-width: 1024px) {\r\n              margin: 0 0 6% 10%;\r\n            }\r\n            @media (max-width: 768px) {\r\n              margin: 5% 0;\r\n            }\r\n          }\r\n          .top {\r\n            border-bottom: 1px solid #e8e8e8;\r\n            width: 100%;\r\n            .img-container {\r\n              width: 100%;\r\n              height: calc(var(--card-width) * 0.6vw);\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n              overflow: hidden;\r\n              .img {\r\n                width: 100%;\r\n                height: 100%;\r\n                background-position: center;\r\n                background-repeat: no-repeat;\r\n                background-size: cover;\r\n                transition: 0.5s ease-in-out;\r\n                &.img1 {\r\n                  background-position: center 35%;\r\n                }\r\n                &.img2 {\r\n                  background-position: center 40%;\r\n                }\r\n                &.img3 {\r\n                  background-position: center bottom;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .bottom {\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            flex-direction: column;\r\n            padding: 7% 0;\r\n            .btn {\r\n              color: #bb9b45;\r\n              padding-top: 20px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=5ab59fd4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=5ab59fd4&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5ab59fd4\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_hoisted_1","onClick","_cache","$event","$setup","switchTo","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","artworkImgs","img","key","_createVNode","_component_router_link","to","id","default","_withCtx","src","url","_hoisted_5","_","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","style","_normalizeStyle","classImg1","_hoisted_10","_hoisted_11","classImg2","_hoisted_12","_hoisted_13","classImg3","name","setup","inject","ref","require","switchToClass","animating","flatImages","keys","map","fileName","replace","value","sort","Math","random","loadImage","Promise","resolve","reject","Image","onload","onerror","loadAllImages","async","gsap","display","autoAlpha","duration","ease","imageSources","all","onComplete","set","error","console","type","color","opacity","delay","onMounted","registerPlugin","ScrollTrigger","nextTick","imgAnimation","timeline","repeat","repeatDelay","yoyo","fromTo","yPercent","__exports__","render"],"sourceRoot":""}